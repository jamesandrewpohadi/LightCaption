 
<html lang="en"> 

    <head>
        <title>DL Project 1</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
        <!-- <script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js"></script> -->
        <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <!-- <link href="{{ url_for('static', filename='css/main-15.css') }}" rel="stylesheet">     -->
    </head>
    
    <body>
    
        <div class="container">
            <h1 class="display-4 margins margin-head">DL Image Captioning</h1>
            <p><i>By James Andrew Pohadi, Lim keng Hin, Kundan Dalmia, and Sanjay Shankar</i></p>

            <form action="/" method="post" enctype="multipart/form-data" id="input" class="container" style={{"display:none;" if label else "" }}  >
                <input class="margins-top btn" type="file" name="image" value="Upload" id="imageUpload" accept=".png, .jpg, .jpeg">
                <input type="value" name="img_src" id="img_src" style="display:none;">
                <img class="margins-top" id="imgpreview" src="https://ssr-releases-cdn.paperlesspost.com/_next/static/images/MobileMediaPoster-81f3df6e9ecef32b339166579e4faacf.jpg" height="300"/>
            <br/>
                <button type="submit" id="btn-show-val" class=" margins btn btn-success">Generate Caption</button>
            </form>
            <div id="output" style={{"" if label else "display:none;" }}>
            <!-- <div id="output"> -->
                <img class="margins-top" id="imgpreview" src="{{img_src}}" height="300"/>
                <br/>
                <br/>
                <button type="button" id="btn_new_img" class=" margins btn btn-success">New image</button>
                <br/>
                {{caption}}
            </div>
            
    
            
            
            <!-- <button type="button" id="btn_new_img" class=" margins btn btn-secondary" style="display:none;">New image</button> -->
            
        </div>
    
    </body>
    
    <footer>
        <!-- <script src="{{ url_for('static', filename='js/main-40.js') }}" type="text/javascript"></script>     -->
        <script>
            function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#imgpreview')
                        .attr('src', e.target.result)
                        .height(300);
                        $('#img_src').val(e.target.result);
                };
                reader.readAsDataURL(input.files[0]);
            }
          }
          $("#imageUpload").change(function () {
            //   $('#imgpreview').show();
            //   $('#btn-predict').show();
              readURL(this);
              
          });

          $("#btn_new_img").click(function () {
              $('#input').show();
              $('#output').hide();
              readURL(this);
              
          });
        
         
        </script>
        
    </footer>
    
    </html>